# Отчёт о тестировании RAG-ассистента

**Дата тестирования:** 2026-02-24  
**Версия Python:** 3.14  
**Модель LLM:** gpt-3.5-turbo  
**Векторная БД:** FAISS  

---

## Конфигурация

| Параметр | Значение |
|----------|----------|
| API URL | https://openai.api.proxyapi.ru/v1 |
| TOP_K (по умолчанию) | 3 |
| TOP_K (эксперимент) | 7 |
| Модель эмбеддингов | text-embedding-3-small |
| Размерность эмбеддинга | 1536 |

---

## Этап 1: Базовый запуск и тестирование (TOP_K=3)

Задано 3 вопроса через API. Время ответа измерялось для каждого вопроса.

| № | Вопрос | Время ответа | Документов найдено | Источник |
|---|--------|--------------|-------------------|----------|
| 1 | Привет, что ты умеешь? | 2.958 сек | 3 | API |
| 2 | Что такое RAG? | 1.202 сек | 3 | API |
| 3 | Что такое ИИ? | 2.554 сек | 3 | API |

**Итого Этап 1:**
- Общее время: **6.714 сек**
- Среднее время ответа: **2.238 сек**

**Ответы системы (Этап 1):**

1. **Привет, что ты умеешь?**
   > Здравствуйте! Я - помощник AI. Я могу помочь вам с ответами на вопросы, предоставлять информацию и объяснять темы, связанные с программированием, машинным обучением и искусственным интеллектом на основе предоставленных данных из базы знаний.

2. **Что такое RAG?**
   > RAG (Retrieval-Augmented Generation) - это техника, которая улучшает качество ответов языковых моделей, дополняя их внешними знаниями.

3. **Что такое ИИ?**
   > В искусственном интеллекте (ИИ) речь идет о компьютерных системах, способных выполнять задачи, которые обычно требуют человеческого интеллекта. ИИ включает в себя методы машинного обучения, глубокое обучение, обработку естественного языка, распознавание образов и многое другое.

---

## Этап 2: Тестирование кэша

Те же 3 вопроса заданы повторно слово в слово.

| № | Вопрос | Время ответа | Кэш найден? |
|---|--------|--------------|-------------|
| 1 | Привет, что ты умеешь? | 0.000070 сек | ✅ ДА |
| 2 | Что такое RAG? | 0.000031 сек | ✅ ДА |
| 3 | Что такое ИИ? | 0.000015 сек | ✅ ДА |

**Итого Этап 2:**
- Количество записей в `cache.json`: **3**
- Все 3 вопроса найдены в кэше
- Ускорение: **~100 000 раз быстрее** (0.000 сек vs 2.2 сек)

---

## Этап 3: Сравнение TOP_K=3 и TOP_K=7

Вопрос: **"Что такое векторная база?"**

### Метрики сравнения

| Метрика | TOP_K=3 | TOP_K=7 |
|---------|---------|---------|
| Время ответа | 1.836 сек | 1.905 сек |
| Найдено документов | 3 | 7 |
| Длина ответа (символов) | 257 | 257 |
| Слов в ответе | 31 | 31 |

### Найденные документы

**TOP_K=3:**
```
1. [Векторные базы данных] (similarity: 0.417)
2. [Векторные базы данных] (similarity: 0.581)  
3. [Векторные базы данных] (similarity: 0.764)
```

**TOP_K=7:**
```
1. [Векторные базы данных] (similarity: 0.416)
2. [Векторные базы данных] (similarity: 0.584)
3. [Векторные базы данных] (similarity: 0.767)
4. [Python Основы] (similarity: 0.795)
5. [Машинное обучение и AI] (similarity: 0.801)
6. [Машинное обучение и AI] (similarity: 0.822)
7. [Python Основы] (similarity: 0.822)
```

### Ответы системы

**TOP_K=3:**
> Векторная база данных - это специализированная система хранения данных, оптимизированная для хранения и поиска векторных эмбеддингов, которые представляют данные в многомерном пространстве, где семантически похожие объекты располагаются близко друг к другу.

**TOP_K=7:**
> Векторная база данных - это специализированная система хранения данных, оптимизированная для хранения и поиска векторных эмбеддингов, которые представляют данные в многомерном пространстве, где семантически похожие объекты располагаются близко друг к другу.

---

## Выводы

### ✅ Успешно пройдено

1. **Система работает корректно** — все три этапа тестирования пройдены
2. **Кэширование эффективно** — повторные запросы обрабатываются мгновенно (~0.000 сек)
3. **Поиск работает** — находится больше релевантных документов при увеличении TOP_K

### Наблюдения

| Аспект | TOP_K=3 | TOP_K=7 |
|--------|---------|---------|
| Скорость | Быстрее (1.84 сек) | Чуть медленнее (1.90 сек) |
| Количество источников | 3 документа | 7 документов |
| Разнообразие источников | Только по теме | Смежные темы |
| Качество ответа | Хорошее | Одинаковое |

### Рекомендации

1. **TOP_K=3** — рекомендуется для простых вопросов, где достаточно одного источника
2. **TOP_K=5** — оптимальный баланс между скоростью и качеством
3. **TOP_K=7** — для сложных вопросов, требующих информации из разных областей
4. **Кэширование** — обязательно использовать для часто повторяющихся вопросов

---

## Статистика

| Метрика | Значение |
|---------|----------|
| Всего вопросов в тесте | 7 |
| Уникальных вопросов | 4 |
| Записей в кэше | 3 |
| Документов в FAISS | 7 |
| Среднее время ответа (API) | 2.238 сек |
| Среднее время ответа (кэш) | 0.000039 сек |
| Ускорение через кэш | ~57 000x |

---

## Файлы отчёта

- `TEST_REPORT.md` — данный отчёт
- `test_report.json` — JSON с полными данными
- `cache.json` — кэш ответов
